# references:
# * http://www.objc.io/issue-6/travis-ci.html
# * https://github.com/supermarin/xcpretty#usage

osx_image: xcode9.2
language: objective-c
cache:
  cocoapods: true
  bundler: true
  directories:
    - node_modules
install:
  - nvm install 8.9.4
  - npm install
  - npm run build
  - ./scripts/check-pristine-state package-lock.json
  - bundle install
  - cd Example && bundle exec pod install
script:
  - bundle exec rake ci
branches:
  only:
    - master
    - /^greenkeeper/.*$/
